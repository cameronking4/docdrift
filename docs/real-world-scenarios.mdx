---
title: Real World Scenarios
description: CLI commands, ecosystems, and end-to-end flows for every use case.
---

This page ties together all CLI commands, detection modes, ecosystems, and end-to-end flows so you can map your use case to the right setup and commands.

## Why this works for all providers and frameworks

DocDrift is **provider-agnostic** and **framework-agnostic**. It does not tie you to one spec format, one runtime, or one docsite framework.

### Provider-agnostic: any spec format

Detection runs the same pipeline regardless of spec type. You configure `specProviders` with `format: openapi3` | `swagger2` | `graphql` | `fern` | `postman`. Each provider defines:

- **current** — where truth lives (export command, local file, or URL)
- **published** — the docs path that should match

The drift engine compares current vs published. If they differ, drift is detected. The mechanism is identical across providers; only the comparison logic is format-specific. So whether you use FastAPI (OpenAPI), NestJS (OpenAPI), Fern (`definition/`), GraphQL (schema export), or Postman (collection JSON), DocDrift gates on the same principle: *generated/source spec vs published spec*.

### Framework-agnostic: any docsite and tooling

DocDrift does not know or care how your docs are built. It does not parse Docusaurus, MkDocs, Mintlify, or Next.js. It only:

1. Detects drift (spec diff or path mappings)
2. Applies policy (gates and caps)
3. Bundles evidence (diffs, impacted paths, drift report)
4. Hands a tarball + prompt to Devin

Your docsite can be Docusaurus with `docusaurus-plugin-openapi-docs`, Mintlify MDX, MkDocs with mkdocstrings, or a custom static site. DocDrift never touches your build. It tells Devin *which* files may be impacted and *what* changed; Devin is responsible for editing them correctly for your chosen framework.

### Strict vs non-strict (auto) scenarios

| Mode | When a run proceeds | Best for |
|------|--------------------|----------|
| **strict** (default) | Only when **spec drift** is detected. No spec diff → no Devin session. | API-first teams; you want zero noise unless the API actually changed. |
| **auto** | Spec drift **or** path-mapping matches. File changes in `pathMappings.match` patterns also trigger a run. | Conceptual docs, guides, path-only setups where there is no single spec. |

**Strict:** Gate = spec diff only. One or more `specProviders` must show current ≠ published. Path changes alone do nothing.

**Auto:** Gate = spec diff **or** heuristic path impacts. If `pathMappings` map `apps/api/src/auth/**` → `docs/guides/auth.md`, and files under `match` changed, DocDrift can run even without spec drift. Devin then infers what to update from the code changes.

Both modes use the same policy engine, caps, and allowlist. The only difference is *when* the run proceeds past the gate.

---

## DocDrift as harness: gates and controls

DocDrift is a **harness** around Devin—it decides *when* and *how much* work gets done, not *how* it gets done.

### Gates (when to run)

- **Spec drift gate** — In strict mode, no run unless generated/source spec differs from published.
- **Path-mapping gate** — In auto mode, path-mapping matches also allow a run.
- **Confidence gate** — Below `autopatchThreshold`, policy may route to `OPEN_ISSUE` instead of `OPEN_PR`.
- **Idempotency** — Same repo, base/head, and action → no duplicate session.

### Controls (what Devin may do)

- **Allowlist** — Devin may only edit paths matching `policy.allowlist` (e.g. `docs/**`, `openapi/**`).
- **Exclude** — Paths in `exclude` are never touched.
- **Verification commands** — Devin must run `policy.verification.commands` (e.g. `npm run docs:check`) and record results.
- **PR caps** — `maxPRsPerDay` and `maxFilesTouched` limit volume.
- **requireHumanReview** — When a PR touches these paths, DocDrift opens an issue to direct human attention.

These gates and controls keep runs low-noise and scope Devin’s edits to what you explicitly allow.

---

## Devin as implementer-agnostic

Devin is the **implementer**; DocDrift is the **orchestrator**. DocDrift does not prescribe *how* Devin edits—only *what* to fix and *where* to stay within bounds.

**DocDrift gives Devin:**

1. **Evidence bundle** — Drift report, spec diff, impacted doc snippets, path mappings.
2. **Constraints** — Allowlist, exclude, verification commands, “one PR per doc area,” “minimal edits.”
3. **Goal** — Produce a PR that brings docs in line with the evidence.

**DocDrift does not give Devin:**

- Framework-specific instructions (e.g. “use Docusaurus plugin X”).
- Step-by-step edit sequences.
- Mandate to use a particular editor or workflow.

Devin receives the evidence and constraints, then implements. It can use any supported workflow (browser, editor, terminal) and adapt to Docusaurus, MkDocs, Mintlify, or a custom setup. That **implementer-agnostic** design is why DocDrift works across providers and frameworks: the harness is the same; only the evidence and constraints vary with your config.

## Command quick reference

| Command | Purpose |
|---------|---------|
| `npx @devinnn/docdrift setup` | Interactive setup: Manual (local files) or Devin PR. Writes `docdrift.yaml`, workflows, `.gitignore`. |
| `npx @devinnn/docdrift generate-yaml` | Generate `docdrift.yaml` scriptably; use `--force`, `--output`, `--open-pr` as needed. |
| `npx @devinnn/docdrift validate` | Validate config and required commands (e.g. openapi:export, docs:check). |
| `npx @devinnn/docdrift detect` | Run drift detection only; writes `.docdrift/drift_report.json`. No Devin, no GitHub writes. |
| `npx @devinnn/docdrift run` | Full pipeline: detect → policy → evidence bundle → Devin session (and/or GitHub issue). |
| `npx @devinnn/docdrift export` | Export DeepWiki to static MDX; optional `--mintlify`, `--docusaurus`, etc. |
| `npx @devinnn/docdrift sla-check` | Check for doc-drift PRs open past SLA (e.g. 7 days) and open reminder issues. |
| `npx @devinnn/docdrift status` | Session status (when applicable). |

Use `--base` and `--head` with `detect` and `run` when you need explicit SHAs; in CI they can be omitted and default from `GITHUB_BASE_SHA` / `GITHUB_SHA` or merge-base with main.

---

## Scenario matrix

The matrix below applies regardless of provider (OpenAPI, GraphQL, Fern, Postman) or docsite framework. See [Why this works for all providers](#why-this-works-for-all-providers-and-frameworks) and [DocDrift as harness](#docdrift-as-harness-gates-and-controls) for how gates and controls work.

| Scenario | Mode | Detection | Primary action | Where to look |
|----------|------|-----------|----------------|---------------|
| **API reference (OpenAPI/GraphQL)** | strict / autogen | Tier 1 (spec diff) | `OPEN_PR` via Devin | [Examples: Autogen API](/deepwiki/pages/examples-and-use-cases) |
| **Conceptual docs (guides, tutorials)** | auto + conceptual | Tier 2 (path heuristics) | `OPEN_ISSUE` with questions | [Examples: Conceptual](/deepwiki/pages/examples-and-use-cases) |
| **Multi-package monorepo** | Per doc area | Path mappings per package | One PR per doc area (or bundled) | [Ecosystems: Monorepo](/guides/ecosystems) |
| **DeepWiki docsite** | N/A | N/A | `export` → Mintlify/Docusaurus/Next.js | [Export guide](/guides/export), [GitHub Actions: export](/github-actions#docdrift-export) |
| **Creative GitHub Actions** | Any | Any | Scheduled export, SLA checks, drift on schedule | [GitHub Actions](/github-actions) |

---

## Ecosystem examples

Each ecosystem pairs a spec/source with a doc tool. Because DocDrift is provider- and framework-agnostic, the same gates and controls apply: configure `docdrift.yaml` (modes, specProviders, path mappings) then run `validate` → `detect` → `run`.

| Ecosystem | Spec/source | Docs | Flow |
|-----------|-------------|------|------|
| **OpenAPI3 + Node/Express** | swagger-jsdoc, NestJS → `openapi/generated.json` | Docusaurus, Markdown | Change route/schema → export spec → drift → Devin fixes docs |
| **OpenAPI3 + FastAPI** | FastAPI OpenAPI export | MkDocs + mkdocstrings / mkdocs-openapi | Regenerate spec → drift → Devin updates MkDocs |
| **Fern** | `definition/`, `generators.yml` | `pages/` MDX | specProviders `format: fern`, path mappings → Devin updates guides + API ref |
| **GraphQL** | Schema export command | Docusaurus/GraphQL plugin, Markdown | Update schema → regenerate → Devin syncs types/resolvers |
| **Mintlify** | OpenAPI for API ref | `docs/` MDX, `mint.json` | Path mappings `api/**`, `src/**` → `docs/**` |
| **Postman** | Postman Collection JSON | External docs / README | `format: postman` → collection changes → Devin keeps docs in sync |
| **Swagger2 / OpenAPI 2** | Legacy Swagger 2.0 | Same as OpenAPI3 | `format: swagger2` |
| **Monorepo** | Multiple packages | `docs/` or `apps/docs-site/` | Path mappings per package (`packages/api/**` → `docs/api/**`, etc.) |

Suggested order to try: OpenAPI3 + Docusaurus → FastAPI + MkDocs → Fern → GraphQL. See [Ecosystem guides](/guides/ecosystems) for details.

---

## End-to-end flows

### New repo: first-time setup

1. `npx @devinnn/docdrift setup` (or `generate-yaml`).
2. Add `DEVIN_API_KEY` (and in GitHub: repo secret).
3. `npx @devinnn/docdrift validate`.
4. Add a [GitHub Actions workflow](/github-actions#consuming-repo-ready-to-copy-workflow) that runs `npx @devinnn/docdrift run` on push to `main`.
5. Push; workflow runs and creates PRs/issues as configured.

### Existing repo: add drift checks

1. Add `docdrift.yaml` (manually or via `generate-yaml` / `setup`).
2. Add the [consuming-repo workflow](/github-actions#consuming-repo-ready-to-copy-workflow) and `DEVIN_API_KEY` secret.
3. Run `validate`, then trigger the workflow (push or manual).

### DeepWiki docsite: export and convert

1. Index repo at [deepwiki.com](https://deepwiki.com) (or use Devin for private).
2. `npx @devinnn/docdrift export` (optionally `--mintlify` or `--docusaurus` for conversion).
3. In CI: add [docdrift-export](/github-actions#docdrift-export) workflow (weekly or manual) with `--fail-on-secrets`.

### Creative GitHub Actions

- **Scheduled drift run:** Trigger `doc-drift` workflow on a schedule (e.g. nightly) in addition to push, using a fixed base/head or `workflow_dispatch` inputs.
- **Export + deploy:** Run `docdrift export` then build and deploy the docsite in the same or a follow-up job.
- **SLA reminders:** Use [docdrift-sla-check](/github-actions#docdrift-sla-check) daily so stale doc-drift PRs get an issue reminder.

---

## Integration with existing content

- **Detailed sequence diagrams and autogen/conceptual examples:** [Examples and Use Cases](/deepwiki/pages/examples-and-use-cases).
- **CI/CD adapters (Jenkins, GitLab, SHA logic, permissions):** [CI/CD Integration](/deepwiki/pages/cicd-integration).
- **Configuration reference:** [Configuration](/guides/configuration), [Detection rules](/deepwiki/pages/detection-rules).
