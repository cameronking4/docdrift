---
title: Using Docdrift in Another Repo
description: Use the CLI locally or in GitHub Actions from any repo.
---

Once published to npm, any repo can use the CLI locally or in GitHub Actions.

## Setup

- **`npx @devinnn/docdrift setup`** — Interactive setup (requires `DEVIN_API_KEY`). Devin generates `docdrift.yaml`, `.docdrift/DocDrift.md`, and `.github/workflows/docdrift.yml`. Prerequisite: add your repo in Devin's Machine first.
- **`npx @devinnn/docdrift generate-yaml`** — Quick config generation for scripted use.
- **Manual** — Add `docdrift.yaml` manually (see [Configuration Reference](/deepwiki/pages/detection-rules)).

## CLI usage

```bash
npx @devinnn/docdrift validate
npx @devinnn/docdrift detect --base <base-sha> --head <head-sha>
# With env for run:
DEVIN_API_KEY=... GITHUB_TOKEN=... GITHUB_REPOSITORY=owner/repo GITHUB_SHA=<sha> npx @devinnn/docdrift run --base <base-sha> --head <head-sha>
```

## GitHub Actions

Add a step that runs the CLI (e.g. after checkout and setting base/head). For **pull request** runs, pass trigger and PR context so Devin can commit to the source branch (commit-to-branch):

```yaml
- name: Run Doc Drift
  env:
    DEVIN_API_KEY: ${{ secrets.DEVIN_API_KEY }}
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    GITHUB_REPOSITORY: ${{ github.repository }}
    GITHUB_SHA: ${{ github.sha }}
    GITHUB_EVENT_NAME: ${{ github.event_name }}
    GITHUB_PR_NUMBER: ${{ steps.shas.outputs.pr_number }}
    GITHUB_PR_HEAD_REF: ${{ github.event.pull_request.head.ref || '' }}
  run: |
    PR_ARGS=""
    if [ -n "$GITHUB_PR_NUMBER" ]; then
      PR_ARGS="--trigger pull_request --pr-number $GITHUB_PR_NUMBER"
      if [ -n "$GITHUB_PR_HEAD_REF" ]; then
        PR_ARGS="$PR_ARGS --pr-head-ref $GITHUB_PR_HEAD_REF"
      fi
    fi
    npx @devinnn/docdrift run --base ${{ steps.shas.outputs.base }} --head ${{ steps.shas.outputs.head }} $PR_ARGS
```

Ensure the "Determine SHAs" step outputs `pr_number` and, on `pull_request`, uses the PR's head/base SHAs. Add repo secret `DEVIN_API_KEY`; `GITHUB_TOKEN` is provided by the runner.

For a complete workflow (push + pull_request + job condition), see [GitHub Actions](/github-actions).
